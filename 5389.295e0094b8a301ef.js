"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5389],{5389:function(a,e,n){n.r(e),n(7378);var t=n(2682);function o(){return o=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(a[t]=n[t])}return a},o.apply(this,arguments)}function p(a){let{components:e,...n}=a;return(0,t.kt)("wrapper",o({components:e},n),(0,t.kt)("p",null,"플러그인은 webpack 생태계의 핵심 요소이며\n커뮤니티에 webpack의 컴파일 프로세스를 활용할 수 있는 강력한 방법을 제공합니다.\n플러그인은 각 컴파일 과정에서 발생하는 주요 이벤트에 ",(0,t.kt)("a",{href:"/api/compiler-hooks/#hooks",parentName:"p"},"후킹")," 할 수 있습니다.\n모든 단계에서 플러그인은 ",(0,t.kt)("inlineCode",{parentName:"p"},"컴파일러"),",\n경우에 따라서는 현재 진행 중인 ",(0,t.kt)("inlineCode",{parentName:"p"},"컴파일"),"에 완전한 접근 권한을 가집니다."),(0,t.kt)("aside",{className:"tip"},(0,t.kt)("h6",{className:"tip__prefix",parentName:"aside"},"tip"),(0,t.kt)("p",{parentName:"aside"},"더 높은 수준의 플러그인 작성을 위해서는\n",(0,t.kt)("a",{href:"/contribute/writing-a-plugin",parentName:"p"},"플러그인 작성하기"),"를 참고하세요.")),(0,t.kt)("p",null,"먼저 webpack 플러그인 인터페이스의 근간을 제공하는\n",(0,t.kt)("inlineCode",{parentName:"p"},"tapable")," 유틸리티에 대해 살펴보겠습니다."),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"tapable",parentName:"h2"}),"Tapable",(0,t.kt)("a",{href:"#tapable","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"이 작은 라이브러리는 webpack의 핵심 유틸리티이지만\n유사한 플러그인 인터페이스를 제공하기 위해 다른 곳에서도 사용할 수 있습니다.\nwebpack의 많은 객체가 ",(0,t.kt)("inlineCode",{parentName:"p"},"Tapable")," 클래스를 확장합니다.\n",(0,t.kt)("inlineCode",{parentName:"p"},"Tapable")," 클래스가 제공하는 ",(0,t.kt)("inlineCode",{parentName:"p"},"tap"),", ",(0,t.kt)("inlineCode",{parentName:"p"},"tapAsnyc"),", ",(0,t.kt)("inlineCode",{parentName:"p"},"tapPromise")," 메소드를 플러그인에서 사용하여\n컴파일 과정에서 실행될 커스텀 빌드 단계를 삽입할 수 있습니다."),(0,t.kt)("p",null,"자세한 내용은 ",(0,t.kt)("a",{href:"https://github.com/webpack/tapable",parentName:"p"},"문서"),"를 참고하세요.\n세 가지 ",(0,t.kt)("inlineCode",{parentName:"p"},"tap")," 메소드와\n이를 제공하는 훅을 이해하는 것은 중요합니다.\n",(0,t.kt)("inlineCode",{parentName:"p"},"Tapable"),"을 확장한 객체(예: 컴파일러),\n훅, 각 훅의 타입(예: ",(0,t.kt)("inlineCode",{parentName:"p"},"SyncHook"),")에 대해 알게 될 것입니다."),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"plugin-types",parentName:"h2"}),"Plugin Types",(0,t.kt)("a",{href:"#plugin-types","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"사용된 훅과 적용된 ",(0,t.kt)("inlineCode",{parentName:"p"},"tap")," 메소드에 따라\n플러그인은 다양한 방식으로 작동할 수 있습니다.\n작동 방식은 ",(0,t.kt)("inlineCode",{parentName:"p"},"Tapable"),"이 제공하는 ",(0,t.kt)("a",{href:"https://github.com/webpack/tapable#tapable",parentName:"p"},"훅"),"과 밀접한 관련이 있습니다.\n",(0,t.kt)("a",{href:"/api/compiler-hooks/#hooks",parentName:"p"},"컴파일러 훅"),"은 상황에 따라 ",(0,t.kt)("inlineCode",{parentName:"p"},"Tapable")," 훅을 통해\n어떤 ",(0,t.kt)("inlineCode",{parentName:"p"},"tap")," 메소드가 사용 가능한지 알 수 있습니다."),(0,t.kt)("p",null,"따라서 어떤 이벤트에 ",(0,t.kt)("inlineCode",{parentName:"p"},"tap")," 하느냐에 따라 플러그인은 다르게 동작할 수 있습니다.\n예를 들어, ",(0,t.kt)("inlineCode",{parentName:"p"},"컴파일")," 단계에 후킹 하는 경우\n동기식 ",(0,t.kt)("inlineCode",{parentName:"p"},"tap")," 메소드만 사용할 수 있습니다."),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"compiler",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"hooks",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"compile",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"tap"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token string",parentName:"code"},"'MyPlugin'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token parameter",parentName:"code"},"params"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  console",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"log"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token string",parentName:"code"},"'Synchronously tapping the compile hook.'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,"그러나 ",(0,t.kt)("inlineCode",{parentName:"p"},"AsyncHook"),"을 활용하는 ",(0,t.kt)("inlineCode",{parentName:"p"},"run"),"의 경우\n",(0,t.kt)("inlineCode",{parentName:"p"},"tap"),"뿐만 아니라 ",(0,t.kt)("inlineCode",{parentName:"p"},"tapAsync")," 또는 ",(0,t.kt)("inlineCode",{parentName:"p"},"tapPromise"),"도 사용할 수 있습니다."),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"compiler",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"hooks",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"run",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"tapAsync"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"\n  ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'MyPlugin'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token parameter",parentName:"code"},"source",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},",")," target",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},",")," routesList",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},",")," callback"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    console",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"log"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token string",parentName:"code"},"'Asynchronously tapping the run hook.'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n    ",(0,t.kt)("span",{className:"token function",parentName:"code"},"callback"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\ncompiler",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"hooks",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"run",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"tapPromise"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token string",parentName:"code"},"'MyPlugin'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token parameter",parentName:"code"},"source",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},",")," target",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},",")," routesList"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.kt)("span",{className:"token class-name",parentName:"code"},"Promise"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token parameter",parentName:"code"},"resolve"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.kt)("span",{className:"token function",parentName:"code"},"setTimeout"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"resolve",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token number",parentName:"code"},"1000"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"then"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    console",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"log"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token string",parentName:"code"},"'Asynchronously tapping the run hook with a delay.'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\ncompiler",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"hooks",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"run",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"tapPromise"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"\n  ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'MyPlugin'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"async")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token parameter",parentName:"code"},"source",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},",")," target",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},",")," routesList"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"await")," ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.kt)("span",{className:"token class-name",parentName:"code"},"Promise"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token parameter",parentName:"code"},"resolve"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.kt)("span",{className:"token function",parentName:"code"},"setTimeout"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"resolve",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token number",parentName:"code"},"1000"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n    console",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"log"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token string",parentName:"code"},"'Asynchronously tapping the run hook with a delay.'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,"즉, ",(0,t.kt)("inlineCode",{parentName:"p"},"컴파일러"),"에 ",(0,t.kt)("inlineCode",{parentName:"p"},"후킹")," 하는 다양한 방법이 있으며,\n각 방법은 플러그인에 적합하다면 실행될 수 있습니다."),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"custom-hooks",parentName:"h2"}),"Custom Hooks",(0,t.kt)("a",{href:"#custom-hooks","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"다른 플러그인이 ",(0,t.kt)("inlineCode",{parentName:"p"},"tap")," 할 수 있도록 컴파일에 사용자 정의 훅을 제공하려면,\n다음을 수행해야 합니다."),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"컴파일 훅을 위한 모듈 범위 ",(0,t.kt)("inlineCode",{parentName:"p"},"WeakMap"),"을 만듭니다."),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{className:"hljs language-ts",parentName:"pre"},(0,t.kt)("span",{className:"token keyword",parentName:"code"},"const")," compilationHooks ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.kt)("span",{className:"token class-name",parentName:"code"},"WeakMap",(0,t.kt)("span",{className:"token operator",parentName:"span"},"<"),"Compilation",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},",")," MyHooks",(0,t.kt)("span",{className:"token operator",parentName:"span"},">")),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"interface")," ",(0,t.kt)("span",{className:"token class-name",parentName:"code"},"MyHooks")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  custom",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," SyncHook",(0,t.kt)("span",{className:"token operator",parentName:"code"},"<"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,t.kt)("span",{className:"token builtin",parentName:"code"},"number"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token builtin",parentName:"code"},"string"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token operator",parentName:"code"},">"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}")))),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"플러그인에 정적 메서드를 만듭니다."),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{className:"hljs language-ts",parentName:"pre"},(0,t.kt)("span",{className:"token keyword",parentName:"code"},"static")," ",(0,t.kt)("span",{className:"token function",parentName:"code"},"getCompilationHooks"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"compilation",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," Compilation",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," MyHooks ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"let")," hooks ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," compilationHooks",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token keyword",parentName:"code"},"get"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"compilation",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"if"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"hooks ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"===")," ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"undefined"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    compilationHooks",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token keyword",parentName:"code"},"set"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"compilation",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," hooks ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      custom",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.kt)("span",{className:"token class-name",parentName:"code"},"SyncHook"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n  ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"return")," hooks",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}")))),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"플러그인에서 아래와 같이 훅을 호출합니다."),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{className:"hljs language-ts",parentName:"pre"},(0,t.kt)("span",{className:"token keyword",parentName:"code"},"const")," hooks ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," MyPlugin",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"getCompilationHooks"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"compilation",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nhooks",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"custom"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"call"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token number",parentName:"code"},"1"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'hello'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";")))),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"다른 플러그인도 사용자 정의 훅에 접근할 수 있습니다."),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{className:"hljs language-ts",parentName:"pre"},(0,t.kt)("span",{className:"token keyword",parentName:"code"},"import")," MyPlugin ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'my-plugin'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"const")," hooks ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," MyPlugin",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"getCompilationHooks"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"compilation",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nhooks",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"custom",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"tap"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token string",parentName:"code"},"'OtherPlugin'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," s",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// magic"),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))))),(0,t.kt)("p",null,"다양한 훅 클래스와 동작 방식에 대해 자세히 알고 싶다면\n",(0,t.kt)("inlineCode",{parentName:"p"},"tapable")," ",(0,t.kt)("a",{href:"https://github.com/webpack/tapable",parentName:"p"},"문서"),"를 참고하세요."),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"reporting-progress",parentName:"h2"}),"Reporting Progress",(0,t.kt)("a",{href:"#reporting-progress","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"플러그인은 기본적으로 진행 상황을 stderr에 출력하는 ",(0,t.kt)("inlineCode",{parentName:"p"},"ProgressPlugin"),"을 통해 진행 상황을 확인할 수 있습니다. 진행률을 확인하려면 ",(0,t.kt)("a",{href:"/api/cli/",parentName:"p"},"webpack CLI"),"를 실행할 때 ",(0,t.kt)("inlineCode",{parentName:"p"},"--progress")," 인수를 전달하세요."),(0,t.kt)("p",null,(0,t.kt)("a",{href:"/plugins/progress-plugin/",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"ProgressPlugin")),"의 ",(0,t.kt)("inlineCode",{parentName:"p"},"reportProgress")," 함수에 다른 인수를 전달하여 메시지 출력을 커스텀 할 수 있습니다."),(0,t.kt)("p",null,"진행 상황을 확인하기 위해서는 ",(0,t.kt)("inlineCode",{parentName:"p"},"context: true")," 옵션을 사용하여 훅에 ",(0,t.kt)("inlineCode",{parentName:"p"},"tap")," 해야 합니다."),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"compiler",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"hooks",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"emit",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"tapAsync"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    name",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'MyPlugin'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    context",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token parameter",parentName:"code"},"context",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},",")," compiler",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},",")," callback"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"const")," reportProgress ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," context ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"&&")," context",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"reportProgress",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n    ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"reportProgress",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token function",parentName:"code"},"reportProgress"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token number",parentName:"code"},"0.95"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'Starting work'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n    ",(0,t.kt)("span",{className:"token function",parentName:"code"},"setTimeout"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"reportProgress",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token function",parentName:"code"},"reportProgress"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token number",parentName:"code"},"0.95"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'Done work'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n      ",(0,t.kt)("span",{className:"token function",parentName:"code"},"callback"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token number",parentName:"code"},"1000"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"reportProgress")," 함수는 다음과 같은 인수를 사용하여 호출할 수 있습니다."),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,t.kt)("span",{className:"token function",parentName:"code"},"reportProgress"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"percentage",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"..."),"args",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"percentage"),": 이 인수는 사용되지 않습니다. 대신 ",(0,t.kt)("a",{href:"/plugins/progress-plugin/",parentName:"li"},(0,t.kt)("inlineCode",{parentName:"a"},"ProgressPlugin")),"이 현재 훅을 기반으로 백분율을 계산합니다."),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"...args"),": ",(0,t.kt)("inlineCode",{parentName:"li"},"ProgressPlugin")," 핸들러로 전달되는 임의의 수의 문자열입니다.")),(0,t.kt)("p",null,"컴파일러 및 컴파일 훅의 하위 집합만이 ",(0,t.kt)("inlineCode",{parentName:"p"},"reportProgress"),"를 지원합니다. 전체 목록은 ",(0,t.kt)("a",{href:"/plugins/progress-plugin/#supported-hooks",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"ProgressPlugin")),"를 참고하세요."),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"logging",parentName:"h2"}),"Logging",(0,t.kt)("a",{href:"#logging","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"로깅 API는 webpack 4.37 릴리스부터 사용할 수 있습니다. ",(0,t.kt)("a",{href:"/configuration/stats/#statslogging",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"stats 설정")),"에서 ",(0,t.kt)("inlineCode",{parentName:"p"},"logging"),"이 활성화된 경우 또는 ",(0,t.kt)("inlineCode",{parentName:"p"},"infrastructure logging"),"이 활성화된 경우 플러그인은 각 로거 형식(stats, infrastructure)으로 메시지를 로깅 할 수 있습니다."),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"플러그인은 로깅을 위해 ",(0,t.kt)("inlineCode",{parentName:"li"},"compilation.getLogger('PluginName')"),"를 사용하는 것이 좋습니다. 로그는 형식에 따라 포매팅 되어 Stats에 저장됩니다. 로그는 사용자가 필터링하고 내보낼 수 있습니다."),(0,t.kt)("li",{parentName:"ul"},"플러그인은 로깅을 위해 ",(0,t.kt)("inlineCode",{parentName:"li"},"compiler.getInfrastructureLogger('PluginName')"),"를 사용할 수 있습니다. ",(0,t.kt)("inlineCode",{parentName:"li"},"infrastructure")," 로깅은 Stats에 저장되지 않기 때문에 형식이 지정되지 않습니다. 일반적으로 콘솔 / 대시보드 / GUI에 직접 기록됩니다. 사용자가 필터링 할 수 있습니다."),(0,t.kt)("li",{parentName:"ul"},"플러그인은 로깅 지원 여부를 확인하기 위해 특별한 폴백 로직 ",(0,t.kt)("inlineCode",{parentName:"li"},"compilation.getLogger ? compilation.getLogger('PluginName') : console"),"을 사용하여 ",(0,t.kt)("inlineCode",{parentName:"li"},"컴파일")," 객체에서 ",(0,t.kt)("inlineCode",{parentName:"li"},"getLogger")," 메소드를 지원하지 않는 이전 webpack 버전이 사용되는 경우에 대한 폴백을 제공 할 수 있습니다.")),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"next-steps",parentName:"h2"}),"Next Steps",(0,t.kt)("a",{href:"#next-steps","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"사용 가능한 모든 ",(0,t.kt)("inlineCode",{parentName:"p"},"컴파일러")," 훅 및 파라미터에 대한 자세한 목록은\n",(0,t.kt)("a",{href:"/api/compiler-hooks/",parentName:"p"},"컴파일러 훅")," 섹션을 참고하세요."))}p.isMDXComponent=!0,e.default=p}}]);