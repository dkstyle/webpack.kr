"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4387],{4387:function(e,a,n){n.r(a),n(3696);var t=n(1445);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},s.apply(this,arguments)}function p(e){let{components:a,...n}=e;return(0,t.yg)("wrapper",s({components:a},n),(0,t.yg)("p",null,"단일 설정 객체를 export 하는 것 외에도 다른 요구 사항을 처리하는 몇 가지 방법이 더 있습니다."),(0,t.yg)("h2",null,(0,t.yg)("span",{id:"exporting-a-function",parentName:"h2"}),"Exporting a Function",(0,t.yg)("a",{href:"#exporting-a-function","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"webpack.config.js"),"에서 ",(0,t.yg)("a",{href:"/guides/development",parentName:"p"},"개발환경"),"과 ",(0,t.yg)("a",{href:"/guides/production",parentName:"p"},"프로덕션 환경"),"을 명확히 해야 합니다. 이를 수행하는 방법에는 여러 가지가 있습니다. 한 가지 옵션은 객체를 내보내는 대신 webpack 설정에서 함수를 내보내는 것입니다. 이 함수는 두 개의 인수로 호출됩니다."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"첫 번째 파라미터는 environment입니다. 구문 예제는 ",(0,t.yg)("a",{href:"/api/cli/#environment-options",parentName:"li"},"CLI 문서의 environment 옵션"),"을 참고하세요."),(0,t.yg)("li",{parentName:"ul"},"두 번째 파라미터인 ",(0,t.yg)("inlineCode",{parentName:"li"},"argv"),"는 옵션 map 입니다. ",(0,t.yg)("a",{href:"/api/cli/#flags",parentName:"li"},(0,t.yg)("inlineCode",{parentName:"a"},"output-path")),", ",(0,t.yg)("a",{href:"/api/cli/#flags",parentName:"li"},(0,t.yg)("inlineCode",{parentName:"a"},"mode")),"와 같은 키를 사용하여 webpack에 전달되는 옵션을 나타냅니다.")),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-diff",parentName:"pre"},(0,t.yg)("span",{className:"token deleted-sign deleted",parentName:"code"},(0,t.yg)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,t.yg)("span",{className:"token line",parentName:"span"},"module.exports = {\n")),(0,t.yg)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,t.yg)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,t.yg)("span",{className:"token line",parentName:"span"},"module.exports = function(env, argv) {\n"),(0,t.yg)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,t.yg)("span",{className:"token line",parentName:"span"},"  return {\n"),(0,t.yg)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,t.yg)("span",{className:"token line",parentName:"span"},"    mode: env.production ? 'production' : 'development',\n"),(0,t.yg)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,t.yg)("span",{className:"token line",parentName:"span"},"    devtool: env.production ? 'source-map' : 'eval',\n")),(0,t.yg)("span",{className:"token unchanged",parentName:"code"},(0,t.yg)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,t.yg)("span",{className:"token line",parentName:"span"},"    plugins: [\n"),(0,t.yg)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,t.yg)("span",{className:"token line",parentName:"span"},"      new TerserPlugin({\n"),(0,t.yg)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,t.yg)("span",{className:"token line",parentName:"span"},"        terserOptions: {\n")),(0,t.yg)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,t.yg)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,t.yg)("span",{className:"token line",parentName:"span"},"          compress: argv.mode === 'production' // `--mode production`이 통과 된 경우에만\n")),(0,t.yg)("span",{className:"token unchanged",parentName:"code"},(0,t.yg)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,t.yg)("span",{className:"token line",parentName:"span"},"        }\n"),(0,t.yg)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,t.yg)("span",{className:"token line",parentName:"span"},"      })\n"),(0,t.yg)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,t.yg)("span",{className:"token line",parentName:"span"},"    ]\n")),(0,t.yg)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,t.yg)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,t.yg)("span",{className:"token line",parentName:"span"},"  };\n")),"};")),(0,t.yg)("h2",null,(0,t.yg)("span",{id:"exporting-a-promise",parentName:"h2"}),"Exporting a Promise",(0,t.yg)("a",{href:"#exporting-a-promise","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"Webpack은 설정 파일에서 export 한 함수를 실행하고 Promise가 반환될 때까지 기다립니다. 설정에서 사용되는 변수를 비동기적으로 로드해야 할 때 편리합니다."),(0,t.yg)("aside",{className:"tip"},(0,t.yg)("h6",{className:"tip__prefix",parentName:"aside"},"tip"),(0,t.yg)("p",{parentName:"aside"},"여러 개의 promise를 ",(0,t.yg)("inlineCode",{parentName:"p"},"Promise.all([/* Your promises */])"),"로 묶어서 export 할 수 있습니다.")),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.yg)("span",{className:"token function-variable function",parentName:"code"},"exports")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"Promise"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token parameter",parentName:"code"},"resolve",(0,t.yg)("span",{className:"token punctuation",parentName:"span"},",")," reject"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,t.yg)("span",{className:"token function",parentName:"code"},"setTimeout"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      ",(0,t.yg)("span",{className:"token function",parentName:"code"},"resolve"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        entry",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},"'./app.js'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,t.yg)("span",{className:"token comment",parentName:"code"},"/* ... */"),"\n      ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.yg)("span",{className:"token number",parentName:"code"},"5000"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("aside",{className:"warning"},(0,t.yg)("h6",{className:"warning__prefix",parentName:"aside"},"warning"),(0,t.yg)("p",{parentName:"aside"},(0,t.yg)("inlineCode",{parentName:"p"},"Promise")," 반환은 CLI를 통해 webpack을 사용할 때만 동작합니다. ",(0,t.yg)("a",{href:"/api/node/#webpack",parentName:"p"},(0,t.yg)("inlineCode",{parentName:"a"},"webpack()")),"은 객체가 필요합니다.")),(0,t.yg)("h2",null,(0,t.yg)("span",{id:"exporting-multiple-configurations",parentName:"h2"}),"Exporting multiple configurations",(0,t.yg)("a",{href:"#exporting-multiple-configurations","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"단일 설정 객체 또는 함수를 export 하는 대신, 여러 개의 설정을 export 할 수 있습니다(여러 개의 함수는 webpack 3.1.0부터 지원). webpack을 실행할 때, 모든 설정이 빌드됩니다. 예를 들어, AMD나 CommonJS 같은 여러 개의 ",(0,t.yg)("a",{href:"/configuration/output/#outputlibrarytarget",parentName:"p"},"target"),"을 위한 ",(0,t.yg)("a",{href:"/guides/author-libraries",parentName:"p"},"라이브러리 빌드")," 시 유용합니다."),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    output",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      filename",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},"'./dist-amd.js'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      libraryTarget",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},"'amd'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    name",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},"'amd'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    entry",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},"'./app.js'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    mode",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},"'production'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    output",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      filename",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},"'./dist-commonjs.js'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      libraryTarget",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},"'commonjs'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    name",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},"'commonjs'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    entry",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},"'./app.js'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    mode",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},"'production'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("aside",{className:"tip"},(0,t.yg)("h6",{className:"tip__prefix",parentName:"aside"},"tip"),(0,t.yg)("p",{parentName:"aside"},"이름을 ",(0,t.yg)("a",{href:"/api/cli/#config-name",parentName:"p"},(0,t.yg)("inlineCode",{parentName:"a"},"--config-name"))," 플래그에 전달하면 webpack은 특정한 설정만 빌드합니다.")),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"dependencies",parentName:"h3"}),"dependencies",(0,t.yg)("a",{href:"#dependencies","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"다른 설정의 출력에 의존하는 설정이 있는 경우 ",(0,t.yg)("a",{href:"/configuration/other-options/#dependencies",parentName:"p"},(0,t.yg)("inlineCode",{parentName:"a"},"dependencies"))," 배열을 사용하여 의존성 목록을 지정할 수 있습니다."),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"webpack.config.js")),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    name",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},"'client'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    target",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},"'web'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token comment",parentName:"code"},"// …"),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    name",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},"'server'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    target",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},"'node'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    dependencies",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),(0,t.yg)("span",{className:"token string",parentName:"code"},"'client'"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"parallelism",parentName:"h3"}),"parallelism",(0,t.yg)("a",{href:"#parallelism","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"여러 설정을 export하는 경우 설정 배열과 ",(0,t.yg)("inlineCode",{parentName:"p"},"parallelism")," 옵션을 사용하여 병렬로 컴파일 할 최대 컴파일러 수를 지정할 수 있습니다."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"타입: ",(0,t.yg)("inlineCode",{parentName:"li"},"number")),(0,t.yg)("li",{parentName:"ul"},"지원 버전: 5.22.0+")),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"webpack.config.js")),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,t.yg)("span",{className:"token comment",parentName:"code"},"//config-1"),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,t.yg)("span",{className:"token comment",parentName:"code"},"//config-2"),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\nmodule",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"parallelism ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token number",parentName:"code"},"1"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))))}p.isMDXComponent=!0,a.default=p}}]);