"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6295],{6295:function(e,a,n){n.r(a),n(7378);var s=n(2682);function t(){return t=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},t.apply(this,arguments)}function p(e){let{components:a,...n}=e;return(0,s.kt)("wrapper",t({components:a},n),(0,s.kt)("p",null,"애셋 모듈은 로더를 추가로 구성하지 않아도 애셋 파일(폰트, 아이콘 등)을 사용할 수 있습니다."),(0,s.kt)("p",null,"webpack 5 이전에는 아래의 로더를 사용하는 것이 일반적이었습니다."),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{href:"https://v4.webpack.js.org/loaders/raw-loader/",parentName:"li"},(0,s.kt)("inlineCode",{parentName:"a"},"raw-loader"))," 파일을 문자열로 가져올 때"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{href:"https://v4.webpack.js.org/loaders/url-loader/",parentName:"li"},(0,s.kt)("inlineCode",{parentName:"a"},"url-loader"))," 파일을 data URI 형식으로 번들에 인라인 추가 할 때"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{href:"https://v4.webpack.js.org/loaders/file-loader/",parentName:"li"},(0,s.kt)("inlineCode",{parentName:"a"},"file-loader"))," 파일을 출력 디렉터리로 내보낼 때")),(0,s.kt)("p",null,"이러한 로더를 대체하기 위해서 애셋 모듈에는 4개의 새로운 모듈 유형이 추가되었습니다."),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"asset/resource"),"는 별도의 파일을 내보내고 URL을 추출합니다. 이전에는 ",(0,s.kt)("inlineCode",{parentName:"li"},"file-loader"),"를 사용하여 처리할 수 있었습니다."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"asset/inline"),"은 애셋의 data URI를 내보냅니다. 이전에는 ",(0,s.kt)("inlineCode",{parentName:"li"},"url-loader"),"를 사용하여 처리할 수 있었습니다."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"asset/source"),"는 애셋의 소스 코드를 내보냅니다. 이전에는",(0,s.kt)("inlineCode",{parentName:"li"},"raw-loader"),"를 사용하여 처리할 수 있었습니다."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"asset"),"은 data URI와 별도의 파일 내보내기 중에서 자동으로 선택합니다. 이전에는 애셋 크기 제한이 있는 ",(0,s.kt)("inlineCode",{parentName:"li"},"url-loader"),"를 사용했습니다.")),(0,s.kt)("p",null,"webpack 5의 애셋 모듈과 함께 이전 애셋 로더(예 :",(0,s.kt)("inlineCode",{parentName:"p"},"file-loader"),"/",(0,s.kt)("inlineCode",{parentName:"p"},"url-loader"),"/",(0,s.kt)("inlineCode",{parentName:"p"},"raw-loader"),")를 사용할 때 애셋 모듈이 애셋을 중복으로 처리하지 않도록 할 수 있습니다. 이는 애셋의 모듈 유형을 ",(0,s.kt)("inlineCode",{parentName:"p"},"'javascript/auto'"),"로 설정하여 적용 가능합니다."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-diff",parentName:"pre"},"module.exports = {\n",(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," module: {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"  rules: [\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"     {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"       test: /\\.(png|jpg|gif)$/i,\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"       use: [\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"         {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"           loader: 'url-loader',\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"           options: {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"             limit: 8192,\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"           }\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"         },\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"       ],\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       type: 'javascript/auto'\n")),(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"     },\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"  ]\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," },\n")),"}")),(0,s.kt)("p",null,"애셋 로더의 새로운 URL 호출에서 발생한 애셋을 제외하려면 로더 설정에 ",(0,s.kt)("inlineCode",{parentName:"p"},"dependency : {not: ['url']}"),"을 추가합니다."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-diff",parentName:"pre"},"module.exports = {\n",(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," module: {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   rules: [\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"     {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"       test: /\\.(png|jpg|gif)$/i,\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       dependency: { not: ['url'] },\n")),(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"       use: [\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"         {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"           loader: 'url-loader',\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"           options: {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"             limit: 8192,\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"           },\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"         },\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"       ],\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"     },\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   ],\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," }\n")),"}")),(0,s.kt)("h2",null,(0,s.kt)("span",{id:"resource-assets",parentName:"h2"}),"Resource assets",(0,s.kt)("a",{href:"#resource-assets","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,s.kt)("span",{className:"header-link",parentName:"a"}))),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-diff",parentName:"pre"},"const path = require('path');\n\nmodule.exports = {\n",(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," entry: './src/index.js',\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," output: {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   filename: 'main.js',\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   path: path.resolve(__dirname, 'dist')\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," },\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"}," module: {\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"   rules: [\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"     {\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       test: /\\.png/,\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       type: 'asset/resource'\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"     }\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"   ]\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"}," },\n")),"};")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"src/index.js")),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,s.kt)("span",{className:"token keyword",parentName:"code"},"import")," mainImage ",(0,s.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,s.kt)("span",{className:"token string",parentName:"code"},"'./images/main.png'"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nimg",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"."),"src ",(0,s.kt)("span",{className:"token operator",parentName:"code"},"=")," mainImage",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},";")," ",(0,s.kt)("span",{className:"token comment",parentName:"code"},"// '/dist/151cfcfa1bd74779aadb.png'"))),(0,s.kt)("p",null,"모든 ",(0,s.kt)("inlineCode",{parentName:"p"},".png")," 파일을 출력 디렉터리로 내보내고 해당 경로를 번들에 삽입합니다. 게다가 ",(0,s.kt)("a",{href:"/configuration/module/#rulegeneratoroutputpath",parentName:"p"},(0,s.kt)("inlineCode",{parentName:"a"},"outputPath"))," 및 ",(0,s.kt)("a",{href:"/configuration/module/#rulegeneratorpublicpath",parentName:"p"},(0,s.kt)("inlineCode",{parentName:"a"},"publicPath")),"를 사용자 지정할 수 있습니다."),(0,s.kt)("h3",null,(0,s.kt)("span",{id:"custom-output-filename",parentName:"h3"}),"Custom output filename",(0,s.kt)("a",{href:"#custom-output-filename","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,s.kt)("span",{className:"header-link",parentName:"a"}))),(0,s.kt)("p",null,"파일을 출력 디렉터리로 내보낼 때 ",(0,s.kt)("inlineCode",{parentName:"p"},"asset/resource")," 모듈은 기본적으로 ",(0,s.kt)("inlineCode",{parentName:"p"},"[hash][ext][query]")," 파일명을 사용합니다."),(0,s.kt)("p",null,"webpack 설정에서 ",(0,s.kt)("a",{href:"/configuration/output/#outputassetmodulefilename",parentName:"p"},(0,s.kt)("inlineCode",{parentName:"a"},"output.assetModuleFilename")),"을 설정하여 이 템플릿을 수정할 수 있습니다."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-diff",parentName:"pre"},"const path = require('path');\n\nmodule.exports = {\n",(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," entry: './src/index.js',\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," output: {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   filename: 'main.js',\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   path: path.resolve(__dirname, 'dist'),\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"   assetModuleFilename: 'images/[hash][ext][query]'\n")),(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," },\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," module: {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   rules: [\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"     {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"       test: /\\.png/,\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"       type: 'asset/resource'\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"     }\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   ]\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," },\n")),"};")),(0,s.kt)("p",null,"특정 디렉터리에 애셋을 내보낼때 출력 파일명을 사용자 정의하는 경우도 있습니다."),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-diff",parentName:"pre"},"const path = require('path');\n\nmodule.exports = {\n",(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," entry: './src/index.js',\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," output: {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   filename: 'main.js',\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   path: path.resolve(__dirname, 'dist'),\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"   assetModuleFilename: 'images/[hash][ext][query]'\n")),(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," },\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," module: {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   rules: [\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"     {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"       test: /\\.png/,\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"       type: 'asset/resource'\n")),(0,s.kt)("span",{className:"token deleted-sign deleted",parentName:"code"},(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"},"     }\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"     },\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"     {\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       test: /\\.html/,\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       type: 'asset/resource',\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       generator: {\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"         filename: 'static/[hash][ext][query]'\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       }\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"     }\n")),(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   ]\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," },\n")),"};")),(0,s.kt)("p",null,"이 설정을 통해 모든 ",(0,s.kt)("inlineCode",{parentName:"p"},"html")," 파일을 출력 디렉터리 내의 ",(0,s.kt)("inlineCode",{parentName:"p"},"static")," 디렉터리로 내보내게 됩니다."),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"Rule.generator.filename"),"은 ",(0,s.kt)("a",{href:"/configuration/output/#outputassetmodulefilename",parentName:"p"},(0,s.kt)("inlineCode",{parentName:"a"},"output.assetModuleFilename")),"과 같으며 ",(0,s.kt)("inlineCode",{parentName:"p"},"asset")," 및 ",(0,s.kt)("inlineCode",{parentName:"p"},"asset/resource")," 모듈에서만 동작합니다."),(0,s.kt)("h2",null,(0,s.kt)("span",{id:"inlining-assets",parentName:"h2"}),"Inlining assets",(0,s.kt)("a",{href:"#inlining-assets","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,s.kt)("span",{className:"header-link",parentName:"a"}))),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-diff",parentName:"pre"},"const path = require('path');\n\nmodule.exports = {\n",(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," entry: './src/index.js',\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," output: {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   filename: 'main.js',\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   path: path.resolve(__dirname, 'dist'),\n")),(0,s.kt)("span",{className:"token deleted-sign deleted",parentName:"code"},(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"},"   assetModuleFilename: 'images/[hash][ext][query]'\n")),(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," },\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," module: {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   rules: [\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"     {\n")),(0,s.kt)("span",{className:"token deleted-sign deleted",parentName:"code"},(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       test: /\\.png/,\n"),(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       type: 'asset/resource'\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       test: /\\.svg/,\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       type: 'asset/inline'\n")),(0,s.kt)("span",{className:"token deleted-sign deleted",parentName:"code"},(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"},"     },\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"     }\n")),(0,s.kt)("span",{className:"token deleted-sign deleted",parentName:"code"},(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"},"     {\n"),(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       test: /\\.html/,\n"),(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       type: 'asset/resource',\n"),(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       generator: {\n"),(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"},"         filename: 'static/[hash][ext][query]'\n"),(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       }\n"),(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"},"     }\n")),(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   ]\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," }\n")),"};")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"src/index.js")),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-diff",parentName:"pre"},(0,s.kt)("span",{className:"token deleted-sign deleted",parentName:"code"},(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"}," import mainImage from './images/main.png';\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"}," import metroMap from './images/metro.svg';\n")),"\n",(0,s.kt)("span",{className:"token deleted-sign deleted",parentName:"code"},(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"}," img.src = mainImage; // '/dist/151cfcfa1bd74779aadb.png'\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"}," block.style.background = `url(${metroMap})`; // url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDo...vc3ZnPgo=)")))),(0,s.kt)("p",null,"모든 ",(0,s.kt)("inlineCode",{parentName:"p"},".svg")," 파일은 data URI로 번들에 삽입됩니다."),(0,s.kt)("h3",null,(0,s.kt)("span",{id:"custom-data-uri-generator",parentName:"h3"}),"Custom data URI generator",(0,s.kt)("a",{href:"#custom-data-uri-generator","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,s.kt)("span",{className:"header-link",parentName:"a"}))),(0,s.kt)("p",null,"기본적으로 webpack에서 내보낸 data URI는 Base64 알고리즘을 사용하여 인코딩된 파일 콘텐츠를 의미합니다."),(0,s.kt)("p",null,"커스텀 인코딩 알고리즘을 사용하려면, 파일 콘텐츠 인코딩을 위한 커스텀 함수를 지정해야 합니다."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-diff",parentName:"pre"},"const path = require('path');\n",(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"}," const svgToMiniDataURI = require('mini-svg-data-uri');\n")),"\nmodule.exports = {\n",(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," entry: './src/index.js',\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," output: {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   filename: 'main.js',\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   path: path.resolve(__dirname, 'dist')\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," },\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," module: {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   rules: [\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"     {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"       test: /\\.svg/,\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"       type: 'asset/inline',\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       generator: {\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"         dataUrl: content => {\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"           content = content.toString();\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"           return svgToMiniDataURI(content);\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"         }\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       }\n")),(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"     }\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   ]\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," },\n")),"};")),(0,s.kt)("p",null,"이제 모든 ",(0,s.kt)("inlineCode",{parentName:"p"},".svg")," 파일이 ",(0,s.kt)("inlineCode",{parentName:"p"},"mini-svg-data-uri")," 패키지를 통해 인코딩됩니다."),(0,s.kt)("h2",null,(0,s.kt)("span",{id:"source-assets",parentName:"h2"}),"Source assets",(0,s.kt)("a",{href:"#source-assets","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,s.kt)("span",{className:"header-link",parentName:"a"}))),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-diff",parentName:"pre"},"const path = require('path');\n",(0,s.kt)("span",{className:"token deleted-sign deleted",parentName:"code"},(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"}," const svgToMiniDataURI = require('mini-svg-data-uri');\n")),"\nmodule.exports = {\n",(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," entry: './src/index.js',\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," output: {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   filename: 'main.js',\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   path: path.resolve(__dirname, 'dist')\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," },\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," module: {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   rules: [\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"     {\n")),(0,s.kt)("span",{className:"token deleted-sign deleted",parentName:"code"},(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       test: /\\.svg/,\n"),(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       type: 'asset/inline',\n"),(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       generator: {\n"),(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"},"         dataUrl: content => {\n"),(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"},"           content = content.toString();\n"),(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"},"           return svgToMiniDataURI(content);\n"),(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"},"         }\n"),(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       }\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       test: /\\.txt/,\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       type: 'asset/source',\n")),(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"     }\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   ]\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," },\n")),"};")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"src/example.txt")),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-text",parentName:"pre"},"Hello world\n")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"src/index.js")),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-diff",parentName:"pre"},(0,s.kt)("span",{className:"token deleted-sign deleted",parentName:"code"},(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"}," import metroMap from './images/metro.svg';\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"}," import exampleText from './example.txt';\n")),"\n",(0,s.kt)("span",{className:"token deleted-sign deleted",parentName:"code"},(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"}," block.style.background = `url(${metroMap}); // url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDo...vc3ZnPgo=)\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"}," block.textContent = exampleText; // 'Hello world'")))),(0,s.kt)("p",null,"모든 ",(0,s.kt)("inlineCode",{parentName:"p"},".txt")," 파일은 있는 그대로 번들에 삽입됩니다."),(0,s.kt)("h2",null,(0,s.kt)("span",{id:"url-assets",parentName:"h2"}),"URL assets",(0,s.kt)("a",{href:"#url-assets","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,s.kt)("span",{className:"header-link",parentName:"a"}))),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"new URL('./path/to/asset', import.meta.url)"),"을 사용할 때 webpack은 애셋 모듈도 함께 생성합니다."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"src/index.js")),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,s.kt)("span",{className:"token keyword",parentName:"code"},"const")," logo ",(0,s.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,s.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,s.kt)("span",{className:"token class-name",parentName:"code"},"URL"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,s.kt)("span",{className:"token string",parentName:"code"},"'./logo.svg'"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,s.kt)("span",{className:"token keyword",parentName:"code"},"import"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"."),"meta",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"."),"url",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,s.kt)("p",null,"설정의 ",(0,s.kt)("a",{href:"/configuration/target/",parentName:"p"},(0,s.kt)("inlineCode",{parentName:"a"},"target")),"에 따라 webpack은 위 코드를 다른 결과로 컴파일합니다."),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,s.kt)("span",{className:"token comment",parentName:"code"},"// target: web"),"\n",(0,s.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,s.kt)("span",{className:"token class-name",parentName:"code"},"URL"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"("),"\n  __webpack_public_path__ ",(0,s.kt)("span",{className:"token operator",parentName:"code"},"+")," ",(0,s.kt)("span",{className:"token string",parentName:"code"},"'logo.svg'"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  document",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"."),"baseURI ",(0,s.kt)("span",{className:"token operator",parentName:"code"},"||")," self",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"."),"location",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"."),"href\n",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,s.kt)("span",{className:"token comment",parentName:"code"},"// target: webworker"),"\n",(0,s.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,s.kt)("span",{className:"token class-name",parentName:"code"},"URL"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"("),"__webpack_public_path__ ",(0,s.kt)("span",{className:"token operator",parentName:"code"},"+")," ",(0,s.kt)("span",{className:"token string",parentName:"code"},"'logo.svg'"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},",")," self",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"."),"location",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,s.kt)("span",{className:"token comment",parentName:"code"},"// target: node, node-webkit, nwjs, electron-main, electron-renderer, electron-preload, async-node"),"\n",(0,s.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,s.kt)("span",{className:"token class-name",parentName:"code"},"URL"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"("),"\n  __webpack_public_path__ ",(0,s.kt)("span",{className:"token operator",parentName:"code"},"+")," ",(0,s.kt)("span",{className:"token string",parentName:"code"},"'logo.svg'"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,s.kt)("span",{className:"token function",parentName:"code"},"require"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,s.kt)("span",{className:"token string",parentName:"code"},"'url'"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,s.kt)("span",{className:"token function",parentName:"code"},"pathToFileUrl"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"("),"__filename",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},")"),"\n",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,s.kt)("h2",null,(0,s.kt)("span",{id:"general-asset-type",parentName:"h2"}),"General asset type",(0,s.kt)("a",{href:"#general-asset-type","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,s.kt)("span",{className:"header-link",parentName:"a"}))),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-diff",parentName:"pre"},"const path = require('path');\n\nmodule.exports = {\n",(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," entry: './src/index.js',\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," output: {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   filename: 'main.js',\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   path: path.resolve(__dirname, 'dist')\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," },\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," module: {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   rules: [\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"     {\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       test: /\\.txt/,\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       type: 'asset',\n")),(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"     }\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   ]\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," },\n")),"};")),(0,s.kt)("p",null,"이제 webpack은 기본 조건에 따라서 ",(0,s.kt)("inlineCode",{parentName:"p"},"resource"),"와 ",(0,s.kt)("inlineCode",{parentName:"p"},"inline")," 중에서 자동으로 선택합니다. 크기가 8kb 미만인 파일은 ",(0,s.kt)("inlineCode",{parentName:"p"},"inline")," 모듈로 처리되고 그렇지 않으면 ",(0,s.kt)("inlineCode",{parentName:"p"},"resource")," 모듈로 처리됩니다."),(0,s.kt)("p",null,"webpack 설정의 module rule 단계에서 ",(0,s.kt)("a",{href:"/configuration/module/#ruleparserdataurlcondition",parentName:"p"},(0,s.kt)("inlineCode",{parentName:"a"},"Rule.parser.dataUrlCondition.maxSize"))," 옵션을 설정하여 이 조건을 변경할 수 있습니다."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-diff",parentName:"pre"},"const path = require('path');\n\nmodule.exports = {\n",(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," entry: './src/index.js',\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," output: {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   filename: 'main.js',\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   path: path.resolve(__dirname, 'dist')\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," },\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," module: {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   rules: [\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"     {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"       test: /\\.txt/,\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"       type: 'asset',\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       parser: {\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"         dataUrlCondition: {\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"           maxSize: 4 * 1024 // 4kb\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"         }\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       }\n")),(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"     }\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   ]\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," },\n")),"};")),(0,s.kt)("p",null,"또한 ",(0,s.kt)("a",{href:"/configuration/module/#ruleparserdataurlcondition",parentName:"p"},"함수를 지정"),"하여 모듈의 인라인 여부를 결정할 수 있습니다."),(0,s.kt)("h2",null,(0,s.kt)("span",{id:"replacing-inline-loader-syntax",parentName:"h2"}),"Replacing Inline Loader Syntax",(0,s.kt)("a",{href:"#replacing-inline-loader-syntax","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,s.kt)("span",{className:"header-link",parentName:"a"}))),(0,s.kt)("p",null,"Asset Modules 및 Webpack 5 이전에는, 위에 언급한 레거시 로더와 함께 ",(0,s.kt)("a",{href:"https://webpack.kr/concepts/loaders/#inline",parentName:"p"},"inline syntax"),"를 사용할 수 있었습니다."),(0,s.kt)("p",null,"현재는 모든 인라인 로더 구문을 제거하고 resourceQuery 조건을 사용하여 인라인 구문의 기능을 모방하는 것이 좋습니다."),(0,s.kt)("p",null,"예를 들어, ",(0,s.kt)("inlineCode",{parentName:"p"},"raw-loader"),"를 ",(0,s.kt)("inlineCode",{parentName:"p"},"asset/source")," 유형으로 바꾸는 경우입니다."),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-diff",parentName:"pre"},(0,s.kt)("span",{className:"token deleted-sign deleted",parentName:"code"},(0,s.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,s.kt)("span",{className:"token line",parentName:"span"}," import myModule from 'raw-loader!my-module';\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"}," import myModule from 'my-module?raw';")))),(0,s.kt)("p",null,"webpack 설정입니다."),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-diff",parentName:"pre"},"module: {\n",(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   rules: [\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   // ...\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"     {\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       resourceQuery: /raw/,\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       type: 'asset/source',\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"     }\n")),(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   ]\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," },")))),(0,s.kt)("p",null,"원시 애샛을 다른 로더에서 처리하지 못하도록 제외하려면, 부정적 조건을 사용하십시오."),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-diff",parentName:"pre"},"module: {\n",(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   rules: [\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   // ...\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"     {\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       test: /\\.m?js$/,\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       resourceQuery: { not: [/raw/] },\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       use: [ ... ]\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"     },\n")),(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"     {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"       resourceQuery: /raw/,\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"       type: 'asset/source',\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"     }\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   ]\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," },")))),(0,s.kt)("p",null,"또는 ",(0,s.kt)("inlineCode",{parentName:"p"},"oneOf")," 규칙 목록입니다. 여기에서는 첫 번째로 일치하는 규칙만 적용됩니다."),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-diff",parentName:"pre"},"module: {\n",(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   rules: [\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   // ...\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"     { oneOf: [\n")),(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"       {\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"         resourceQuery: /raw/,\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"         type: 'asset/source',\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"       },\n")),(0,s.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       {\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"         test: /\\.m?js$/,\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"         use: [ ... ]\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"       },\n"),(0,s.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,s.kt)("span",{className:"token line",parentName:"span"},"     ] }\n")),(0,s.kt)("span",{className:"token unchanged",parentName:"code"},(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"},"   ]\n"),(0,s.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,s.kt)("span",{className:"token line",parentName:"span"}," },")))),(0,s.kt)("h2",null,(0,s.kt)("span",{id:"disable-emitting-assets",parentName:"h2"}),"Disable emitting assets",(0,s.kt)("a",{href:"#disable-emitting-assets","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,s.kt)("span",{className:"header-link",parentName:"a"}))),(0,s.kt)("p",null,"서버 사이드 랜더링과 같은 사용 사례의 경우 애셋 방출을 비활성화할 수 있습니다. 이는 ",(0,s.kt)("inlineCode",{parentName:"p"},"Rule.generator")," 하위의 ",(0,s.kt)("a",{href:"/configuration/module/#rulegeneratoremit",parentName:"p"},(0,s.kt)("inlineCode",{parentName:"a"},"emit"))," 옵션을 통해 설정 가능합니다."),(0,s.kt)("pre",null,(0,s.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,s.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,s.kt)("span",{className:"token comment",parentName:"code"},"// …"),"\n  module",(0,s.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,s.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,s.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,s.kt)("span",{className:"token regex",parentName:"code"},"/\\.png$/i"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        type",(0,s.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,s.kt)("span",{className:"token string",parentName:"code"},"'asset/resource'"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        generator",(0,s.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          emit",(0,s.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,s.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,s.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,s.kt)("span",{className:"token punctuation",parentName:"code"},";"))))}p.isMDXComponent=!0,a.default=p}}]);